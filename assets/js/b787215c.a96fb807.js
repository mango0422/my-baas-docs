"use strict";(self.webpackChunkmy_baas_docs=self.webpackChunkmy_baas_docs||[]).push([[7742],{7924:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"msa-architecture/08-deployment-strategy","title":"8. CI/CD & \ubc30\ud3ec \uc804\ub7b5","description":"8.1 GitOps + Kubernetes","source":"@site/docs/msa-architecture/08-deployment-strategy.mdx","sourceDirName":"msa-architecture","slug":"/msa-architecture/08-deployment-strategy","permalink":"/my-baas-docs/docs/msa-architecture/08-deployment-strategy","draft":false,"unlisted":false,"editUrl":"https://github.com/mango0422/my-baas-docs/blob/main/docs/msa-architecture/08-deployment-strategy.mdx","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"id":"08-deployment-strategy","title":"8. CI/CD & \ubc30\ud3ec \uc804\ub7b5","sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"7. Observability: \ub85c\uadf8\xb7\uba54\ud2b8\ub9ad\xb7\ud2b8\ub808\uc774\uc2f1","permalink":"/my-baas-docs/docs/msa-architecture/07-observability"},"next":{"title":"9. Outbox \ud328\ud134: \uc2e0\ub8b0\ud560 \uc218 \uc788\ub294 \uc774\ubca4\ud2b8 \ubc1c\ud589","permalink":"/my-baas-docs/docs/msa-architecture/09-outbox-pattern"}}');var n=s(4848),i=s(8453);const d={id:"08-deployment-strategy",title:"8. CI/CD & \ubc30\ud3ec \uc804\ub7b5",sidebar_position:9},c=void 0,l={},o=[{value:"8.1 GitOps + Kubernetes",id:"81-gitops--kubernetes",level:3},{value:"8.2 \ubb34\uc911\ub2e8 \ubc30\ud3ec \uc635\uc158",id:"82-\ubb34\uc911\ub2e8-\ubc30\ud3ec-\uc635\uc158",level:3},{value:"8.3 \uae08\uc735\uad8c \uccb4\ud06c\ub9ac\uc2a4\ud2b8",id:"83-\uae08\uc735\uad8c-\uccb4\ud06c\ub9ac\uc2a4\ud2b8",level:3}];function a(e){const t={code:"code",em:"em",h3:"h3",li:"li",ol:"ol",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h3,{id:"81-gitops--kubernetes",children:"8.1 GitOps + Kubernetes"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Build"}),": GitHub Actions \u2192 ",(0,n.jsx)(t.code,{children:"./gradlew bootBuildImage"})," (Spring) / ",(0,n.jsx)(t.code,{children:"./gradlew jib"})," (Armeria)"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Push"}),": OCI \uc774\ubbf8\uc9c0 \u2192 GHCR / ECR"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Deploy"}),": Argo CD\uac00 ",(0,n.jsx)(t.code,{children:"kustomize"})," \ubcc0\uacbd \uac10\uc9c0 \u2192 \uc790\ub3d9 \uc801\uc6a9"]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"82-\ubb34\uc911\ub2e8-\ubc30\ud3ec-\uc635\uc158",children:"8.2 \ubb34\uc911\ub2e8 \ubc30\ud3ec \uc635\uc158"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"\uc804\ub7b5"}),(0,n.jsx)(t.th,{children:"\ud2b9\uc9d5"}),(0,n.jsx)(t.th,{children:"Istio Ingress \uc608\uc2dc"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Blue/Green"})}),(0,n.jsx)(t.td,{children:"\uc0c8 \ubc84\uc804(Pod) \u2192 100% \uc804\ud658 \ud6c4 \uad6c\ubc84\uc804 \uc0ad\uc81c"}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.code,{children:"virtualService"})," weight 100 \u2192 0"]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Canary"})}),(0,n.jsx)(t.td,{children:"5 % \u2192 20 % \u2192 100 % \ub2e8\uacc4\uc801"}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.code,{children:"weight: 5"})," \u2192 ",(0,n.jsx)(t.code,{children:"20"})," \u2192 ",(0,n.jsx)(t.code,{children:"100"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Shadow"})}),(0,n.jsx)(t.td,{children:"\ud2b8\ub798\ud53d \ubcf5\uc81c, \uc0ac\uc6a9\uc790 \ubbf8\ub178\ucd9c"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"mirrorPercentage: 100"})})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"83-\uae08\uc735\uad8c-\uccb4\ud06c\ub9ac\uc2a4\ud2b8",children:"8.3 \uae08\uc735\uad8c \uccb4\ud06c\ub9ac\uc2a4\ud2b8"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"DB \ub9c8\uc774\uadf8\ub808\uc774\uc158"})," \u2192 ",(0,n.jsx)(t.em,{children:"shadow write + dual read"})," \ud6c4 switch"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"\ubc30\ud3ec \uc2b9\uc778 \ud504\ub85c\uc138\uc2a4"})," \u2192 Slack + ChatOps + e-sign"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"\ub9b4\ub9ac\uc988 \ub178\ud2b8 \uc790\ub3d9 \uc0dd\uc131"})," \u2192 ",(0,n.jsx)(t.code,{children:"git-cliff"}),"/",(0,n.jsx)(t.code,{children:"conventional-commits"})]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>d,x:()=>c});var r=s(6540);const n={},i=r.createContext(n);function d(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);