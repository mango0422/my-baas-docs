"use strict";(self.webpackChunkmy_baas_docs=self.webpackChunkmy_baas_docs||[]).push([[9733],{1990:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>c});var i=n(758);const s={},t=i.createContext(s);function l(e){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(t.Provider,{value:r},e.children)}},4722:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"msa-architecture/12-resilience-patterns","title":"12. \uace0\uac00\uc6a9\uc131\uc744 \uc704\ud55c Resilience \ud328\ud134","description":"\uae08\uc735 \uc11c\ube44\uc2a4\ub294 99.99 % \uac00\uc6a9\uc131 \uc774 \uc694\uad6c\ub429\ub2c8\ub2e4.","source":"@site/docs/msa-architecture/12-resilience-patterns.mdx","sourceDirName":"msa-architecture","slug":"/msa-architecture/12-resilience-patterns","permalink":"/my-baas-docs/docs/msa-architecture/12-resilience-patterns","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/msa-architecture/12-resilience-patterns.mdx","tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"id":"12-resilience-patterns","title":"12. \uace0\uac00\uc6a9\uc131\uc744 \uc704\ud55c Resilience \ud328\ud134","sidebar_position":13},"sidebar":"tutorialSidebar","previous":{"title":"11. gRPC \uc644\uc804 \uc815\ubcf5: Spring Boot & Armeria","permalink":"/my-baas-docs/docs/msa-architecture/11-grpc-deep-dive"},"next":{"title":"\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98(MSA) \uc18c\uac1c","permalink":"/my-baas-docs/docs/microservices/01-introduction"}}');var s=n(6070),t=n(1990);const l={id:"12-resilience-patterns",title:"12. \uace0\uac00\uc6a9\uc131\uc744 \uc704\ud55c Resilience \ud328\ud134",sidebar_position:13},c=void 0,d={},a=[{value:"12.1 Circuit Breaker",id:"121-circuit-breaker",level:2},{value:"12.2 Retry &amp; Backoff",id:"122-retry--backoff",level:2},{value:"12.3 Bulkhead",id:"123-bulkhead",level:2},{value:"12.4 Rate Limiting",id:"124-rate-limiting",level:2},{value:"12.5 Graceful Degradation",id:"125-graceful-degradation",level:2},{value:"12.6 Chaos Engineering",id:"126-chaos-engineering",level:2},{value:"\ud83d\udd11 \ud575\uc2ec \uc815\ub9ac",id:"-\ud575\uc2ec-\uc815\ub9ac",level:3}];function o(e){const r={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["\uae08\uc735 \uc11c\ube44\uc2a4\ub294 ",(0,s.jsx)(r.strong,{children:"99.99 % \uac00\uc6a9\uc131"})," \uc774 \uc694\uad6c\ub429\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"121-circuit-breaker",children:"12.1 Circuit Breaker"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"\ub77c\uc774\ube0c\ub7ec\ub9ac"}),(0,s.jsx)(r.th,{children:"\uc124\uc815 \uc608"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.strong,{children:"Resilience4j"})," (Spring Boot)"]}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"@Retry"}),", ",(0,s.jsx)(r.code,{children:'@CircuitBreaker(name="withdraw")'})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Armeria"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"CircuitBreakerRule.onServerErrorStatus()"})})]})]})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"\uc2e4\ud328\uc728 > 50 % & \uc694\uccad \u2265 20 \u2192 OPEN 30 \ucd08"}),"\n",(0,s.jsx)(r.li,{children:"Half-Open \uc0c1\ud0dc\uc5d0\uc11c 3 \uac74 \uc131\uacf5 \uc2dc CLOSE"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"122-retry--backoff",children:"12.2 Retry & Backoff"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-yaml",children:"resilience4j.retry:\r\n  instances.withdraw:\r\n    max-attempts: 3\r\n    wait-duration: 500ms\r\n    exponential-backoff-multiplier: 2\n"})}),"\n",(0,s.jsx)(r.p,{children:"Armeria Client:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:"RetryRule rule = RetryRule.builder()\r\n    .onServerErrorStatus()\r\n    .withBackoff(Backoff.exponential(200, 2000))\r\n    .build();\r\nHttpClient retryingClient = client.decorate(RetryingClient.builder(rule).newDecorator());\n"})}),"\n",(0,s.jsx)(r.h2,{id:"123-bulkhead",children:"12.3 Bulkhead"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"ThreadPoolBulkhead"})," \ub85c \ub3d9\uc2dc \uc694\uccad \uc218 \uc81c\ud55c"]}),"\n",(0,s.jsxs)(r.li,{children:["gRPC \uc2a4\ud2b8\ub9bc\uc740 ",(0,s.jsx)(r.strong,{children:"SemaphoreBulkhead"})," \uc0ac\uc6a9"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"124-rate-limiting",children:"12.4 Rate Limiting"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"\uad6c\ud604"}),(0,s.jsx)(r.th,{children:"\ud2b9\uc9d5"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Redis Lua \uc2a4\ud06c\ub9bd\ud2b8"}),(0,s.jsx)(r.td,{children:"\ubd84\uc0b0 \ud1a0\ud070 \ubc84\ud0b7, \ucd08\ub2f9 100 req"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsxs)(r.td,{children:["Armeria ",(0,s.jsx)(r.code,{children:"ThrottleBuilder"})]}),(0,s.jsx)(r.td,{children:"\uba54\ubaa8\ub9ac \uae30\ubc18, \uac04\ub2e8 \ud14c\uc2a4\ud2b8\uc6a9"})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"125-graceful-degradation",children:"12.5 Graceful Degradation"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\ucd94\ucc9c \uc11c\ube44\uc2a4 \uc7a5\uc560 \uc2dc ",(0,s.jsx)(r.strong,{children:"\uae30\ubcf8 \ubca0\uc2a4\ud2b8\uc140\ub7ec"})," \ubc18\ud658"]}),"\n",(0,s.jsxs)(r.li,{children:["\uacb0\uc81c \uc7a5\uc560 \uc2dc ",(0,s.jsx)(r.strong,{children:"\uc8fc\ubb38 \uc608\uc57d \uc0c1\ud0dc"})," \uc720\uc9c0 + Webhook \uc7ac\uc2dc\ub3c4"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"126-chaos-engineering",children:"12.6 Chaos Engineering"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"chaos-mesh"})," / ",(0,s.jsx)(r.code,{children:"Gremlin"})," \uc73c\ub85c \ub124\ud2b8\uc6cc\ud06c \uc9c0\uc5f0\xb7\ud328\ud0b7 \ub4dc\ub86d"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"SLO"})," \uc704\ubc18 \uc5ec\ubd80 \ubaa8\ub2c8\ud130\ub9c1"]}),"\n",(0,s.jsx)(r.li,{children:"\uc790\ub3d9 \ubcf5\uad6c \uc815\ucc45 \uc7ac\uac80\uc99d"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"-\ud575\uc2ec-\uc815\ub9ac",children:"\ud83d\udd11 \ud575\uc2ec \uc815\ub9ac"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Circuit Breaker + Retry"})," = \uc7a5\uc560 \uc804\ud30c \ucc28\ub2e8"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Bulkhead + RateLimit"})," = \ub9ac\uc18c\uc2a4 \uace0\uac08 \ubc29\uc9c0"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Chaos \ud14c\uc2a4\ud2b8"})," \ub85c \ubcf5\uc6d0\ub825 \uac00\uc2dc\ud654"]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);