"use strict";(self.webpackChunkmy_baas_docs=self.webpackChunkmy_baas_docs||[]).push([[2541],{2828:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"msa-architecture/07-observability","title":"7. Observability: \ub85c\uadf8\xb7\uba54\ud2b8\ub9ad\xb7\ud2b8\ub808\uc774\uc2f1","description":"7.1 3\ub300 \uae30\ub465","source":"@site/docs/msa-architecture/07-observability.mdx","sourceDirName":"msa-architecture","slug":"/msa-architecture/07-observability","permalink":"/my-baas-docs/docs/msa-architecture/07-observability","draft":false,"unlisted":false,"editUrl":"https://github.com/mango0422/my-baas-docs/blob/main/docs/msa-architecture/07-observability.mdx","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"id":"07-observability","title":"7. Observability: \ub85c\uadf8\xb7\uba54\ud2b8\ub9ad\xb7\ud2b8\ub808\uc774\uc2f1","sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"6. SAGA \ud328\ud134\uacfc \ubcf4\uc0c1 \ud2b8\ub79c\uc7ad\uc158","permalink":"/my-baas-docs/docs/msa-architecture/06-saga-pattern"},"next":{"title":"8. CI/CD & \ubc30\ud3ec \uc804\ub7b5","permalink":"/my-baas-docs/docs/msa-architecture/08-deployment-strategy"}}');var i=t(4848),n=t(8453);const c={id:"07-observability",title:"7. Observability: \ub85c\uadf8\xb7\uba54\ud2b8\ub9ad\xb7\ud2b8\ub808\uc774\uc2f1",sidebar_position:8},d=void 0,o={},a=[{value:"7.1 3\ub300 \uae30\ub465",id:"71-3\ub300-\uae30\ub465",level:3},{value:"7.2 Trace ID \uc804\ud30c",id:"72-trace-id-\uc804\ud30c",level:3}];function l(e){const r={blockquote:"blockquote",code:"code",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h3,{id:"71-3\ub300-\uae30\ub465",children:"7.1 3\ub300 \uae30\ub465"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"\uc601\uc5ed"}),(0,i.jsx)(r.th,{children:"\ub3c4\uad6c"}),(0,i.jsx)(r.th,{children:"Spring Boot"}),(0,i.jsx)(r.th,{children:"Armeria"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"\ub85c\uadf8"})}),(0,i.jsx)(r.td,{children:"ELK / Loki"}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"spring-boot-starter-logging"})," + Logback JSON \u2192 Filebeat"]}),(0,i.jsxs)(r.td,{children:["Armeria ",(0,i.jsx)(r.code,{children:"Slf4jRequestLogger"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"\uba54\ud2b8\ub9ad"})}),(0,i.jsx)(r.td,{children:"Prometheus"}),(0,i.jsxs)(r.td,{children:["Micrometer (",(0,i.jsx)(r.code,{children:"micrometer-registry-prometheus"}),")"]}),(0,i.jsxs)(r.td,{children:["Armeria ",(0,i.jsx)(r.code,{children:"PrometheusMeterRegistries"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"\ud2b8\ub808\uc774\uc2f1"})}),(0,i.jsx)(r.td,{children:"Jaeger / Zipkin"}),(0,i.jsx)(r.td,{children:"spring-cloud-sleuth + OpenTelemetry"}),(0,i.jsxs)(r.td,{children:["Armeria ",(0,i.jsx)(r.code,{children:"BraveService"})," / ",(0,i.jsx)(r.code,{children:"OtelDecoratingService"})]})]})]})]}),"\n",(0,i.jsx)(r.h3,{id:"72-trace-id-\uc804\ud30c",children:"7.2 Trace ID \uc804\ud30c"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"X-B3-TraceId"})," \u2192 Spring Filter \u2192 Armeria ",(0,i.jsx)(r.code,{children:"ClientRequestContext.current()"})]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"@Bean\nBraveService braveService(Tracing tracing) {\n    return BraveService.newDecorator(tracing);\n}\n"})}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"TIP"})," : gRPC \uba54\uc11c\ub4dc\uba85\xb7\uba54\uc2dc\uc9c0 \ud06c\uae30\ub97c ",(0,i.jsx)(r.code,{children:"grpc_server_handled_total"})," \uba54\ud2b8\ub9ad\uc73c\ub85c \ub178\ucd9c\ud558\uc5ec ",(0,i.jsx)(r.strong,{children:"QPS\xb7P99 \uc9c0\uc5f0"}),"\uc744 \ub300\uc2dc\ubcf4\ub4dc\uc5d0 \ud45c\uc2dc."]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>c,x:()=>d});var s=t(6540);const i={},n=s.createContext(i);function c(e){const r=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(n.Provider,{value:r},e.children)}}}]);