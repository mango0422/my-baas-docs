---
id: 12-resilience-patterns
title: "12. ê³ ê°€ìš©ì„±ì„ ìœ„í•œ Resilience íŒ¨í„´"

sidebar_position: 13
---

> ê¸ˆìœµ ì„œë¹„ìŠ¤ëŠ” **99.99 % ê°€ìš©ì„±** ì´ ìš”êµ¬ë©ë‹ˆë‹¤.

## 12.1 Circuit Breaker

| ë¼ì´ë¸ŒëŸ¬ë¦¬                     | ì„¤ì • ì˜ˆ                                      |
| ------------------------------ | -------------------------------------------- |
| **Resilience4j** (Spring Boot) | `@Retry`, `@CircuitBreaker(name="withdraw")` |
| **Armeria**                    | `CircuitBreakerRule.onServerErrorStatus()`   |

- ì‹¤íŒ¨ìœ¨ > 50 % & ìš”ì²­ â‰¥ 20 â†’ OPEN 30 ì´ˆ
- Half-Open ìƒíƒœì—ì„œ 3 ê±´ ì„±ê³µ ì‹œ CLOSE

## 12.2 Retry & Backoff

```yaml
resilience4j.retry:
  instances.withdraw:
    max-attempts: 3
    wait-duration: 500ms
    exponential-backoff-multiplier: 2
```

Armeria Client:

```java
RetryRule rule = RetryRule.builder()
    .onServerErrorStatus()
    .withBackoff(Backoff.exponential(200, 2000))
    .build();
HttpClient retryingClient = client.decorate(RetryingClient.builder(rule).newDecorator());
```

## 12.3 Bulkhead

- **ThreadPoolBulkhead** ë¡œ ë™ì‹œ ìš”ì²­ ìˆ˜ ì œí•œ
- gRPC ìŠ¤íŠ¸ë¦¼ì€ **SemaphoreBulkhead** ì‚¬ìš©

## 12.4 Rate Limiting

| êµ¬í˜„                      | íŠ¹ì§•                         |
| ------------------------- | ---------------------------- |
| Redis Lua ìŠ¤í¬ë¦½íŠ¸        | ë¶„ì‚° í† í° ë²„í‚·, ì´ˆë‹¹ 100 req |
| Armeria `ThrottleBuilder` | ë©”ëª¨ë¦¬ ê¸°ë°˜, ê°„ë‹¨ í…ŒìŠ¤íŠ¸ìš©   |

## 12.5 Graceful Degradation

- ì¶”ì²œ ì„œë¹„ìŠ¤ ì¥ì•  ì‹œ **ê¸°ë³¸ ë² ìŠ¤íŠ¸ì…€ëŸ¬** ë°˜í™˜
- ê²°ì œ ì¥ì•  ì‹œ **ì£¼ë¬¸ ì˜ˆì•½ ìƒíƒœ** ìœ ì§€ + Webhook ì¬ì‹œë„

## 12.6 Chaos Engineering

1. `chaos-mesh` / `Gremlin` ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ì§€ì—°Â·íŒ¨í‚· ë“œë¡­
2. **SLO** ìœ„ë°˜ ì—¬ë¶€ ëª¨ë‹ˆí„°ë§
3. ìë™ ë³µêµ¬ ì •ì±… ì¬ê²€ì¦

---

### ğŸ”‘ í•µì‹¬ ì •ë¦¬

1. **Circuit Breaker + Retry** = ì¥ì•  ì „íŒŒ ì°¨ë‹¨
2. **Bulkhead + RateLimit** = ë¦¬ì†ŒìŠ¤ ê³ ê°ˆ ë°©ì§€
3. **Chaos í…ŒìŠ¤íŠ¸** ë¡œ ë³µì›ë ¥ ê°€ì‹œí™”
